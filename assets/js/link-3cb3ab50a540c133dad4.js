!function(e){function t(t){for(var r,i,l=t[0],s=t[1],u=t[2],c=0,f=[];c<l.length;c++)i=l[c],o[i]&&f.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(d&&d(t);f.length;)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={4:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://gfodor.github.io/";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=s;a.push([404,0]),n()}({13:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){a.default.config("https://013d6a364fed43cdb0539a61d520597a@sentry.prod.mozaws.net/370").install()};var r,o=n(38),a=(r=o,r&&r.__esModule?r:{default:r})},14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.messages=t.lang=void 0;var r,o=n(15),a=(r=o,r&&r.__esModule?r:{default:r});var i=(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).toLowerCase().split(/[_-]+/)[0],l=t.lang=a.default[i]&&i||"en";t.messages=a.default[l]||a.default.en},15:function(e){e.exports={en:{"entry.screen-prefix":"Enter on ","entry.desktop-screen":"Screen","entry.mobile-screen":"Phone","entry.mobile-safari":"Safari","entry.generic-prefix":"Enter with ","entry.generic-medium":"PC VR","entry.generic-subtitle-desktop":"Oculus or SteamVR","entry.gearvr-prefix":"Enter on ","entry.gearvr-medium":"Gear VR","entry.device-prefix-desktop":"Use a ","entry.device-prefix-mobile":"Use a ","entry.device-medium":"Mobile Headset","entry.device-subtitle-desktop":"Standalone or Phone Clip-in","entry.device-subtitle-mobile":"Standalone or Phone Clip-in","entry.device-subtitle-vr":"Phone or PC","entry.cardboard":"Enter on Google Cardboard","entry.daydream-prefix":"Enter on ","entry.daydream-medium":"Daydream","entry.daydream-via-chrome":"Using Google Chrome","entry.invite-others":"invite others","entry.invite-others-nag":"invite others to join","entry.enable-screen-sharing":"Share my desktop","profile.save":"save","profile.display_name.validation_warning":"Alphanumerics and hyphens. At least 3 characters, no more than 32","profile.header":"Your display name:","profile.avatar-selector.loading":"Loading Avatars...","profile.terms_of_use":"Terms of Use","profile.privacy_notice":"Privacy Notice","audio.title":"Test your audio","audio.subtitle-desktop":"Confirm HMD speaker output","audio.subtitle-mobile":"Earphones are recommended","audio.enter-now":"enter now","audio.hmd-mic-warning":"Your HMD mic is not chosen","audio.grant-title":"Grant mic permissions","audio.grant-subtitle":"Mic access needed to be heard by others","audio.granted-title":"Mic permissions granted","audio.granted-subtitle":"You can still mute yourself in-game","audio.granted-next":"next","exit.subtitle.exited":"Your session has ended. Refresh your browser to start a new one.","exit.subtitle.closed":"This room is no longer available.","exit.subtitle.full":"This room is full, please try again later.","exit.subtitle.connect_error":"Unable to connect to this room, please try again later.","exit.subtitle.version_mismatch":"The version you deployed is not available yet. Your browser will refresh in 5 seconds.","autoexit.title":"Auto-ending session in ","autoexit.title_units":" seconds","autoexit.subtitle":"You have started another session.","autoexit.cancel":"CANCEL","home.room_create_options":"options","home.room_create_button":"create a room","home.create_name.validation_warning":"Invalid name, limited to 4 to 64 characters and limited symbols.","home.join_us":"Join the Conversation","home.report_issue":"Report Issues","home.source_link":"source","home.about_link":"about","home.privacy_notice":"Privacy Notice","home.terms_of_use":"Terms of Use","home.get_updates":"Get Updates","home.hero_title":"A moral imperative.","home.hero_subtitle":'"With enough thrust, pigs can fly."',"home.made_with_love":"made with ðŸ¦† by ","home.environment_author_by":" by ","home.dialog.close":"CLOSE","home.have_entry_code":"have a link code?","mailing_list.privacy_label":"I'm okay with Mozilla handling my info as explained in","mailing_list.privacy_link":"this Privacy Notice","link.in_your_browser":"In your headset's browser, go to:","link.enter_code":"Then, enter this link code:","link.do_not_close":"Keep this dialog open to use this code.","link.link_page_header":"Enter your code:","link.dont_have_a_code":"Don't have a code?","link.create_a_room":"Create a Room","link.try_again":"We couldn't find that code. Please try again.","help.report_issue":"Report an Issue"}}},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCHEMA=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(71),l=n(74),s=(r=l,r&&r.__esModule?r:{default:r}),u=n(44),d=n(30);var c="___hubs_store",f=Symbol(),p=new i.Validator,m=t.SCHEMA={id:"/HubsStore",definitions:{profile:{type:"object",additionalProperties:!1,properties:{displayName:{type:"string",pattern:"^[A-Za-z0-9-]{3,32}$"},avatarId:{type:"string"}}},activity:{type:"object",additionalProperties:!1,properties:{hasFoundFreeze:{type:"boolean"},hasChangedName:{type:"boolean"},lastEnteredAt:{type:"string"}}},settings:{type:"object",additionalProperties:!1,properties:{lastUsedMicDeviceId:{type:"string"}}}},type:"object",properties:{profile:{$ref:"#/definitions/profile"},activity:{$ref:"#/definitions/activity"},settings:{$ref:"#/definitions/settings"}},additionalProperties:!1},y=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.init=function(){e.update({activity:{},settings:{},profile:o({},(0,d.generateDefaultProfile)(),e.state.profile||{})}),e.state.activity.hasChangedName||e.update({profile:{displayName:(0,d.generateRandomName)()}})},null===localStorage.getItem(c)&&localStorage.setItem(c,JSON.stringify({})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"update",value:function(e){var t=(0,s.default)(this.state,e),n=p.validate(t,m).valid;if(!n)throw new Error("Write of "+JSON.stringify(t)+" to store failed schema validation.");return localStorage.setItem(c,JSON.stringify(t)),delete this[f],this.dispatchEvent(new CustomEvent("statechanged")),t}},{key:"state",get:function(){return this.hasOwnProperty(f)||(this[f]=JSON.parse(localStorage.getItem(c))),this[f]}}]),t}(u.EventTarget);t.default=y},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.avatars=[{id:"botdefault",model:"https://asset-bundles-prod.reticulum.io/bots/BotDefault_Avatar-9f71f8ff22.gltf"},{id:"botbobo",model:"https://asset-bundles-prod.reticulum.io/bots/BotBobo_Avatar-f9740a010b.gltf"},{id:"botdom",model:"https://asset-bundles-prod.reticulum.io/bots/BotDom_Avatar-0c48bf15a5.gltf"},{id:"botgreg",model:"https://asset-bundles-prod.reticulum.io/bots/BotGreg_Avatar-98d39797bb.gltf"},{id:"botguest",model:"https://asset-bundles-prod.reticulum.io/bots/BotGuest_Avatar-78cd857332.gltf"},{id:"botjim",model:"https://asset-bundles-prod.reticulum.io/bots/BotJim_Avatar-d28005a687.gltf"},{id:"botkev",model:"https://asset-bundles-prod.reticulum.io/bots/BotKev_Avatar-a95787bb51.gltf"},{id:"botpinky",model:"https://asset-bundles-prod.reticulum.io/bots/BotPinky_Avatar-b0b93f8675.gltf"},{id:"botrobert",model:"https://asset-bundles-prod.reticulum.io/bots/BotRobert_Avatar-e9554880f3.gltf"},{id:"botwoody",model:"https://asset-bundles-prod.reticulum.io/bots/BotWoody_Avatar-0140485a23.gltf"}]},30:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.avatarIds=void 0,t.generateRandomName=function(){return a(o)+"-"+Math.floor(1e4+1e4*Math.random())},t.generateDefaultProfile=function(){return{avatarId:a(i)}};var r=n(20),o=["Baers-Pochard","Baikal-Teal","Barrows-Goldeneye","Blue-Billed","Blue-Duck","Blue-Winged","Brown-Teal","Bufflehead","Canvasback","Cape-Shoveler","Chestnut-Teal","Chiloe-Wigeon","Cinnamon-Teal","Comb-Duck","Common-Eider","Common-Goldeneye","Common-Merganser","Common-Pochard","Common-Scoter","Common-Shelduck","Cotton-Pygmy","Crested-Duck","Crested-Shelduck","Eatons-Pintail","Falcated","Ferruginous","Freckled-Duck","Gadwall","Garganey","Greater-Scaup","Green-Pygmy","Grey-Teal","Hardhead","Harlequin","Hartlaubs","Hooded-Merganser","Hottentot-Teal","Kelp-Goose","King-Eider","Lake-Duck","Laysan-Duck","Lesser-Scaup","Long-Tailed","Maccoa-Duck","Mallard","Mandarin","Marbled-Teal","Mellers-Duck","Merganser","Northern-Pintail","Orinoco-Goose","Paradise-Shelduck","Plumed-Whistler","Puna-Teal","Pygmy-Goose","Radjah-Shelduck","Red-Billed","Red-Crested","Red-Shoveler","Ring-Necked","Ringed-Teal","Rosy-Billed","Ruddy-Shelduck","Salvadoris-Teal","Scaly-Sided","Shelduck","Shoveler","Silver-Teal","Smew","Spectacled-Eider","Spot-Billed","Spotted-Whistler","Steamerduck","Stellers-Eider","Sunda-Teal","Surf-Scoter","Tufted-Duck","Velvet-Scoter","Wandering-Whistler","Whistling-duck","White-Backed","White-Cheeked","White-Winged","Wigeon","Wood-Duck","Yellow-Billed"];function a(e){return e[Math.floor(Math.random()*e.length)]}var i=t.avatarIds=r.avatars.map(function(e){return e.id})},35:function(e,t){},39:function(e,t){},40:function(e,t){},404:function(e,t,n){"use strict";n(446);var r=n(1),o=h(r),a=n(37),i=h(a),l=n(13),s=h(l),u=n(405),d=h(u),c=n(75),f=h(c),p=n(77),m=n(18),y=h(m);function h(e){return e&&e.__esModule?e:{default:e}}(0,s.default)();var _=(0,p.connectToReticulum)(),g=new y.default;g.init();var v=new f.default(g);v.setSocket(_),i.default.render(o.default.createElement(d.default,{store:g,linkChannel:v}),document.getElementById("link-root"))},405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(69),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),i=n(1),l=v(i),s=n(0),u=v(s),d=n(5),c=n(41),f=v(c),p=n(14),m=n(17),y=v(m),h=n(446),_=v(h),g=n(78);function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=4;(0,d.addLocaleData)([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(f.default))),(0,g.disableiOSZoom)();var w=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n=r,r.state={enteredDigits:"",failedAtLeastOnce:!1},r.componentDidMount=function(){document.addEventListener("keydown",r.handleKeyDown)},r.componentWillUnmount=function(){document.removeEventListener("keydown",r.handleKeyDown)},r.handleKeyDown=function(e){e.keyCode<48||e.keyCode>57||(e.preventDefault(),e.stopPropagation(),r.addDigit(e.keyCode-48))},r.addDigit=function(e){if(!(r.state.enteredDigits.length>=k)){var t=""+r.state.enteredDigits+e;t.length===k&&r.attemptLink(t),r.setState({enteredDigits:t})}},r.removeDigit=function(){var e=r.state.enteredDigits;0!==e.length&&r.setState({enteredDigits:e.substring(0,e.length-1)})},r.attemptLink=function(e){r.props.linkChannel.attemptLink(e).then(function(e){if(e.profile){var t=r.props.store.state.activity.hasChangedName;t||r.props.store.update({activity:{hasChangedName:!0},profile:e.profile})}e.path&&(window.location.href=e.path)}).catch(function(e){if(r.setState({failedAtLeastOnce:!0,enteredDigits:""}),!(e instanceof Error)||"in_use"!==e.message&&"failed"!==e.message)throw e})},o=n,b(r,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this;return l.default.createElement(d.IntlProvider,{locale:p.lang,messages:p.messages},l.default.createElement("div",{className:_.default.link},l.default.createElement("div",{className:_.default.linkContents},this.state.enteredDigits.length===k&&l.default.createElement("div",{className:(0,y.default)("loading-panel",_.default.codeLoadingPanel)},l.default.createElement("div",{className:"loader-wrap"},l.default.createElement("div",{className:"loader"},l.default.createElement("div",{className:"loader-center"})))),l.default.createElement("div",{className:_.default.enteredContents},l.default.createElement("div",{className:_.default.header},l.default.createElement(d.FormattedMessage,{id:this.state.failedAtLeastOnce?"link.try_again":"link.link_page_header"})),l.default.createElement("div",{className:_.default.enteredDigits},l.default.createElement("input",{className:_.default.digitInput,type:"tel",pattern:"[0-9]*",value:this.state.enteredDigits,onChange:function(t){e.setState({enteredDigits:t.target.value})},placeholder:"- - - -"})),l.default.createElement("div",{className:_.default.enteredFooter},l.default.createElement("span",null,l.default.createElement(d.FormattedMessage,{id:"link.dont_have_a_code"}))," ",l.default.createElement("span",null,l.default.createElement("a",{href:"/"},l.default.createElement(d.FormattedMessage,{id:"link.create_a_room"}))),l.default.createElement("img",{className:_.default.entryFooterImage,src:a.default}))),l.default.createElement("div",{className:_.default.keypad},[1,2,3,4,5,6,7,8,9].map(function(t,n){return l.default.createElement("button",{disabled:e.state.enteredDigits.length===k,key:"digit_"+n,className:_.default.keypadButton,onClick:function(){return e.addDigit(t)}},t)}),l.default.createElement("button",{disabled:this.state.enteredDigits.length===k,className:(0,y.default)(_.default.keypadButton,_.default.keypadZeroButton),onClick:function(){return e.addDigit(0)}},"0"),l.default.createElement("button",{disabled:0===this.state.enteredDigits.length||this.state.enteredDigits.length===k,className:(0,y.default)(_.default.keypadButton,_.default.keypadBackspace),onClick:function(){return e.removeDigit()}},"âŒ«")),l.default.createElement("div",{className:_.default.footer},l.default.createElement("span",null,l.default.createElement(d.FormattedMessage,{id:"link.dont_have_a_code"}))," ",l.default.createElement("span",null,l.default.createElement("a",{href:"/"},l.default.createElement(d.FormattedMessage,{id:"link.create_a_room"}))),l.default.createElement("img",{className:_.default.footerImage,src:a.default,alt:"Logo"})))))}}]),t}(i.Component);w.propTypes={intl:u.default.object,store:u.default.object,linkChannel:u.default.object},t.default=w},446:function(e,t){e.exports={"keypad-button":"link__keypad-button__2ElvK",keypadButton:"link__keypad-button__2ElvK",link:"link__link__3kJ6B","link-contents":"link__link-contents__3L1rY",linkContents:"link__link-contents__3L1rY","entered-footer":"link__entered-footer__2Oi0C",enteredFooter:"link__entered-footer__2Oi0C","entered-contents":"link__entered-contents__2ZmCP",enteredContents:"link__entered-contents__2ZmCP","code-loading-panel":"link__code-loading-panel__21IQD",codeLoadingPanel:"link__code-loading-panel__21IQD","entry-footer-image":"link__entry-footer-image__1XOeK",entryFooterImage:"link__entry-footer-image__1XOeK","footer-image":"link__footer-image__AsDh-",footerImage:"link__footer-image__AsDh-",header:"link__header__ID1fV",footer:"link__footer__DERRP",keypad:"link__keypad__1FVTF","keypad-zero-button":"link__keypad-zero-button__1Ipl5",keypadZeroButton:"link__keypad-zero-button__1Ipl5","keypad-backspace":"link__keypad-backspace__M4x5m",keypadBackspace:"link__keypad-backspace__M4x5m","entered-digits":"link__entered-digits__3j6yk",enteredDigits:"link__entered-digits__3j6yk",digit:"link__digit__9CLdI","digit-input":"link__digit-input__3pC9t",digitInput:"link__digit-input__3pC9t"}},69:function(e,t,n){e.exports=n.p+"assets/images/logo-8f1dfd234d060073524bc29912a24f75.svg"},75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(76);t.default=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setSocket=function(e){n.socket=e},this.generateCode=function(){return new Promise(function(e){var t=new Promise(function(a){!function i(){var l=Math.floor(9999*Math.random()).toString().padStart(4,"0"),s=!1,u=!1,d=n.socket.channel("link:"+l,{timeout:1e4}),c=function(){u||d.leave(),u=!0},f=function(){return c()};d.on("link_expired",function(){return a("expired")}),d.on("presence_state",function(n){s||(Object.keys(n).length>0?i():(s=!0,e({code:l,cancel:f,onFinished:t})))}),d.on("link_request",function(e){if(s){var t={path:location.pathname};n.store.state.activity.hasChangedName&&(t.profile=r({},n.store.state.profile)),(0,o.generatePublicKeyAndEncryptedObject)(e.public_key,t).then(function(t){var n=t.publicKeyString,r=t.encryptedData,o={target_session_id:e.reply_to_session_id,public_key:n,data:r};u||d.push("link_response",o),c(),a("used"),s=!1})}}),d.join().receive("error",function(e){return console.error(e)})}()})})},this.attemptLink=function(e){return new Promise(function(t,r){var a=n.socket.channel("link:"+e,{timeout:1e4}),i=!1;(0,o.generateKeys)().then(function(e){var l=e.publicKeyString,s=e.privateKey;a.on("presence_state",function(e){var t=Object.keys(e).length;1===t?(a.push("link_request",{reply_to_session_id:n.socket.params.session_id,public_key:l}),setTimeout(function(){i||(a.leave(),r(new Error("no_response")))},1e4)):0===t?(a.leave(),r(new Error("failed"))):(console.warn("link code channel already has 2 or more occupants, something fishy is going on."),a.leave(),r(new Error("in_use")))}),a.on("link_response",function(e){i=!0,a.leave(),(0,o.decryptObject)(e.public_key,s,e.data).then(t)}),a.join().receive("error",function(e){return console.error(e)})})})},this.store=t}},76:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,a,i,l,s,u=(r=f(function*(e,t){return crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-CBC",length:256},!0,["encrypt","decrypt"])}),function(e,t){return r.apply(this,arguments)}),d=(o=f(function*(e){return JSON.stringify(yield crypto.subtle.exportKey("jwk",e))}),function(e){return o.apply(this,arguments)}),c=(a=f(function*(e){return yield crypto.subtle.importKey("jwk",JSON.parse(e),{name:"ECDH",namedCurve:"P-256"},!0,[])}),function(e){return a.apply(this,arguments)});t.generateKeys=(i=f(function*(){var e=yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]),t=yield d(e.publicKey);return{publicKeyString:t,privateKey:e.privateKey}}),function(){return i.apply(this,arguments)}),t.generatePublicKeyAndEncryptedObject=(l=f(function*(e,t){var n=new Uint8Array(16),r=yield c(e),o=yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]),a=yield d(o.publicKey),i=yield u(o.privateKey,r),l=btoa(m(yield crypto.subtle.encrypt({name:"AES-CBC",iv:n},i,p(JSON.stringify(t)))));return{publicKeyString:a,encryptedData:l}}),function(e,t){return l.apply(this,arguments)}),t.decryptObject=(s=f(function*(e,t,n){var r=new Uint8Array(16),o=yield c(e),a=yield u(t,o),i=p(atob(n)),l=yield crypto.subtle.decrypt({name:"AES-CBC",iv:r},a,i);return JSON.parse(m(l))}),function(e,t,n){return s.apply(this,arguments)});function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}function p(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function m(e){for(var t=new Uint8Array(e),n="",r=0;r<t.byteLength;r++)n+=String.fromCharCode(t[r]);return n}},77:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.connectToReticulum=function(){var e=new URLSearchParams(location.search),t=e.get("phx_protocol")||("https:"===document.location.protocol?"wss:":"ws:"),n=e.get("phx_host"),o=e.get("phx_port");var a="dev.reticulum.io".split(":"),s=r(a,2),u=s[0],d=s[1];n=n||u||"",o=o||d||"443";var c=t+"//"+n+(o?":"+o:"")+"/socket";console.log("Phoenix Socket URL: "+c);var f=new l.Socket(c,{params:{session_id:(0,i.default)()}});return f.connect(),f};var o,a=n(108),i=(o=a,o&&o.__esModule?o:{default:o}),l=n(109)},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disableiOSZoom=function(){if("iOS"!==(0,r.detectOS)(navigator.userAgent))return;var e=0;document.addEventListener("touchmove",function(e){1!==e.scale&&e.preventDefault()}),document.addEventListener("touchend",function(t){var n=(new Date).getTime(),r=n-e<=300;e=n,r&&t.preventDefault()})};var r=n(70)}});